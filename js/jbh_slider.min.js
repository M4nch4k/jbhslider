/**
 * JbhSlider, a simple jQuery slider. v1.0.5.1
 *
 * http://jbhslider.projects.bodin-hullin.net/
 *
 *  ***
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/lgpl.html>.
 *
 *  ***
 *
 * @author Jacques Bodin-Hullin <http://www.bodin-hullin.net>
 * @version 1.0.5.1
 */
if(!jQuery.fn.jbhSlider){(function(a){var b="1.0.5.1";var c={init:function(a){},selector:"> ul",cssClass:"jbhSlider",elements:{selector:"> li",cssClass:"jbhSliderItem"},css:{width:500,height:250},transition:{type:"fade",duration:1e3,timer:3e3,actionStopTimer:true,before:function(a,b,c){c()},success:function(a,b){},maxZIndex:300},pagination:{type:null,text:"{{page}}",cssClass:"jbhSliderPages",id:null,currentCssClass:"current",tag:"ol",subTag:"li",position:"after",container:null},navigation:{active:true,cssClass:"jbhSliderNavigation",id:null,loop:true,tag:"ul",subTag:"li",next:{text:">",cssClass:"jbhSliderNavigationNext"},previous:{text:"<",cssClass:"jbhSliderNavigationPrevious"},position:"after",container:null}};var d=0;var e={version:function(){return this.version},init:function(b){var e={};a.extend(true,e,c,b);$this=this;$ul=e.selector!=null?$this.find(e.selector):$this;$liList=$ul.find(e.elements.selector);$this.addClass(e.cssClass).css(a.extend({},e.css,{overflow:"hidden"}));$liList.addClass(e.elements.cssClass);if($liList.length<2){return $this}e.data={isJbhSlider:true,ul:$ul,liList:$liList,inTransitionTo:a($liList[0]),mouseIn:false};count=$liList.length;$this.data({settings:e,jbhSliderInit:true,count:count,current:a($liList[0]),to:null});for(d=0;d<count;d++){a.data($liList[d],{slider:$this,pos:d+1,first:false,last:false})}a.data($liList[0],"first",true);a.data($liList[count-1],"last",true);$this.hover(function(){a(this).data("mouseIn",true)},function(){a(this).data("mouseIn",false)});var f=null;var g=null;if(!e.selector){e.transition.type="fade"}switch(e.transition.type){case"horizontal-left":g=function(b){var c=b.data("settings");b.css({position:"relative"});c.data.ul.css(a.extend({},c.css,{position:"absolute",top:0,left:0,width:c.css.width*count}));c.data.liList.css(a.extend({},c.css,{"float":"left"}));a(c.data.liList[0]).css({opacity:1})};f=function(a,b,c){var d=a.data("settings");d.data.ul.animate({left:(c.data("pos")-1)*-d.css.width},d.transition.duration,function(){a.jbhSlider("_transitionSuccess",b,c)})};break;case"horizontal-right":g=function(b){var c=b.data("settings");b.css({position:"relative"});c.data.ul.css(a.extend({},c.css,{position:"absolute",top:0,right:0,width:c.css.width*count}));c.data.liList.css(a.extend({},c.css,{"float":"right"}));a(c.data.liList[0]).css({opacity:1})};f=function(a,b,c){var d=a.data("settings");d.data.ul.animate({right:(c.data("pos")-1)*-d.css.width},d.transition.duration,function(){a.jbhSlider("_transitionSuccess",b,c)})};break;case"fade":default:e.data.zIndex=1;g=function(b){var c=b.data("settings");c.data.ul.css(a.extend({},c.css,{position:"relative"}));c.data.liList.css(a.extend({},c.css,{position:"absolute",top:0,left:0,opacity:0}));a(c.data.liList[0]).css({opacity:1,zIndex:c.data.zIndex})};f=function(b,c,f){c.stop(true);f.stop(true);c.animate({opacity:0},e.transition.duration);f.animate({opacity:1},e.transition.duration,function(){f.css("z-index",++e.data.zIndex);b.jbhSlider("_transitionSuccess",c,f);var g=b.data("count");var h=e.transition.maxZIndex;if(e.data.zIndex>h+g){for(d=0;d<=g-1;d++){a(e.data.liList[d]).css("z-index",a(e.data.liList[d]).css("z-index")-h)}e.data.zIndex=g+1}})};break}e.init($this);g($this);e.data.transition=f;if(e.transition.timer>0){$this.jbhSlider("_loadTimer")}var h=a("<"+e.pagination.tag+"></"+e.pagination.tag+">");h.addClass(e.pagination.cssClass);if(e.pagination.id){h.attr("id",e.pagination.id)}e.pagination.element=h;switch(e.pagination.type){case"numbers":e.pagination.text="{{page}}";break;case"custom":break;case"bullets":e.pagination.text="â€¢";default:break}e.pagination.elements=new Array;for(d=1;d<=$this.data("count");d++){var j=a('<a href="#"></a>');$li=a($liList[d-1]);j.data({slider:$this,to:$li});j.html(e.pagination.text.replace("{{page}}",d)).click(function(){var b=a(this);var c=b.data("slider");c.jbhSlider("_slide",a(this).data("to"),f,true);return false});$li.data("pager",j);if(e.pagination.subTag!=null&&e.pagination.subTag.length>0){h.append(a("<"+e.pagination.subTag+"></"+e.pagination.subTag+">").append(j))}else{h.append(j)}e.pagination.elements[d-1]=j}if(e.pagination.subTag!=null&&e.pagination.subTag.length>0){h.find(e.pagination.subTag+":first").addClass(e.pagination.currentCssClass)}e.pagination.last=h.find("a:first").addClass(e.pagination.currentCssClass);if(e.pagination.type!=null&&e.pagination.type.length>0){var k=$this;if(e.pagination.container!=null){k=a(e.pagination.container);if(e.pagination.position=="before"){k.prepend(h)}else{k.append(h)}}else{if(e.pagination.position=="before"){k.before(h)}else{k.after(h)}}}var l=a("<"+e.navigation.tag+"></"+e.navigation.tag+">");l.addClass(e.navigation.cssClass);if(e.navigation.id){l.attr("id",e.navigation.id)}e.navigation.element=l;var m=null;if(e.navigation.previous.link==null){m=a('<a href="#"></a>');e.navigation.previous.link=m}else{m=e.navigation.previous.link}m.addClass(e.navigation.previous.cssClass);m.data("slider",$this);if(e.navigation.loop){$this.data("previous",a($liList[count-1]));m.css("visibility","visible")}else{$this.data("previous",null);m.css("visibility","hidden")}m.html(e.navigation.previous.text).click(function(){a(this).data("slider").jbhSlider("previous",true);return false});if(e.navigation.subTag!=null&&e.navigation.subTag.length>0){l.append(a("<"+e.navigation.subTag+"></"+e.navigation.subTag+">").append(m))}else{l.append(m)}var n=null;if(e.navigation.next.link==null){n=a('<a href="#"></a>');e.navigation.next.link=n}else{n=e.navigation.next.link}n.addClass(e.navigation.next.cssClass);n.data("slider",$this);n.css("display",null);$this.data("next",a($liList[1]));n.html(e.navigation.next.text).click(function(){a(this).data("slider").jbhSlider("next",true);return false});if(e.navigation.subTag!=null&&e.navigation.subTag.length>0){l.append(a("<"+e.navigation.subTag+"></"+e.navigation.subTag+">").append(n))}else{l.append(n)}if(e.navigation.active){var o=$this;if(e.navigation.container!=null){o=a(e.navigation.container);if(e.navigation.position=="before"){o.prepend(l)}else{o.append(l)}}else{if(e.navigation.position=="before"){o.before(l)}else{o.after(l)}}}return $this},_slide:function(a,b,c){if(a==null){return this}var d=this;var e=d.data("settings");if(c==true&&e.transition.actionStopTimer){this.jbhSlider("_killTimer")}if(e.data.inTransitionTo.data("pos")!=a.data("pos")){e.data.inTransitionTo=a;d.jbhSlider("_stopAnim",a);e.transition.before(d,a,function(){b(d,d.data("current"),a);d.jbhSlider("_updatePagination",a);d.jbhSlider("_updateNavigation",a)})}return this},slide:function(a){var b=null;for(d=0;d<this.data("count");d++){var c=this.data("settings").pagination.elements[d];if(c.data("to").data("pos")==a){b=c.data("to");break}}this.jbhSlider("_slide",b,this.data("settings").data.transition,true)},_transitionSuccess:function(a,b){this.data("settings").transition.success(this,b);this.data("current",b)},_stopAnim:function(b){var c=this;var e=c.data("settings");switch(e.transition.type){case"horizontal-left":case"horizontal-right":e.data.ul.stop(true);break;case"fade":default:var f=e.data.liList;f.stop(true);for(d=0;d<c.data("count");d++){if(d!=b.data("pos")-1){var g=a(f[d]);if(g.css("opacity")!=0&&g.data("pos")!=c.data("current").data("pos")){g.animate({opacity:0},e.transition.duration)}}}break}},_updatePagination:function(a){var b=this.data("settings");if(b.pagination.last.data("to")!=a){b.pagination.last.removeClass(b.pagination.currentCssClass);if(b.pagination.subTag!=null&&b.pagination.subTag.length>0){b.pagination.last.parent().removeClass(b.pagination.currentCssClass)}b.pagination.last=a.data("pager").addClass(b.pagination.currentCssClass);if(b.pagination.subTag!=null&&b.pagination.subTag.length>0){a.data("pager").parent().addClass(b.pagination.currentCssClass)}}},_loadTimer:function(){function b(){if(a.data("mouseIn")!=true){a.jbhSlider("next")}a.data("timer",setTimeout(b,a.data("settings").transition.timer))}var a=this;this.data("timer",setTimeout(b,this.data("settings").transition.timer))},_killTimer:function(){if(this.data("timer")!=null){clearTimeout(this.data("timer"));this.data("timer",null)}},next:function(a){this.jbhSlider("_slide",this.data("next"),this.data("settings").data.transition,a)},previous:function(a){this.jbhSlider("_slide",this.data("previous"),this.data("settings").data.transition,a)},_updateNavigation:function(b){var c=a(this);var d=c.data("settings");var e=d.navigation.active;var f=c.data("count");if(e){var g=d.navigation.next.link}if(b.data("pos")==f){if(d.navigation.loop==true){if(e){g.css("visibility","visible")}c.data("next",a(d.data.liList[0]))}else{if(e){g.css("visibility","hidden")}c.data("next",null)}}else{if(e){g.css("visibility","visible")}c.data("next",a(d.data.liList[b.data("pos")]))}if(e){var h=d.navigation.previous.link}if(b.data("pos")==1){if(d.navigation.loop==true){if(e){h.css("visibility","visible")}c.data("previous",a(d.data.liList[f-1]))}else{if(e){h.css("visibility","hidden")}c.data("previous",null)}}else{if(e){h.css("visibility","visible")}c.data("previous",a(d.data.liList[b.data("pos")-2]))}}};a.fn.jbhSlider=function(b){if(e[b]){return e[b].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof b==="object"||!b){return e.init.apply(this,arguments)}a.error("Method "+b+" does not exist on jQuery.tooltip");return this}})(jQuery)}
